<html>
	<head>
		<title>My first three.js app</title>
		<style>
			html, body { margin: 0; overflow:hidden; background-color:#43dafd;}
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/90/three.js"></script>
		<script src ="OrbitControls.js"></script>
		<script src ="FirstPersonControls.js"></script>
		<script src ="PointerLockControls.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			/*var geometry = new THREE.BoxGeometry( 1, 1, 1 );
			var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );*/

			//controls = new THREE.OrbitControls(camera, renderer.domElement);
			controls = THREE.PointerLockControls(camera, renderer.domElement);

			//controls.update() must be called after any manual changes to the camera's transform
			camera.position.set( 5, 1, 5);
			//controls.update();

			var light = new THREE.PointLight( 0xFFFFFF, 3, 100 );
			light.position.set( 50, 50, 50 );
			scene.add( light );

			window.addEventListener('resize', function() {
		        var WIDTH = window.innerWidth,
		            HEIGHT = window.innerHeight;
		        renderer.setSize(WIDTH, HEIGHT);
		        camera.aspect = WIDTH / HEIGHT;
		        camera.updateProjectionMatrix();
		      });


		/*	var loader = new THREE.ObjectLoader();

			loader.load(
				// resource URL
				"model.json",

				// onLoad callback
				// Here the loaded data is assumed to be an object
				function ( obj ) {
					// Add the loaded object to the scene
					scene.add( obj );
				},

				// onProgress callback
				function ( xhr ) {
					console.log( (xhr.loaded / xhr.total * 100) + '% loaded' );
				},

				// onError callback
				function ( err ) {
					console.error( 'An error happened' );
				}
			);


*/

			var loader = new THREE.ObjectLoader();
			loader.load("model.json",function ( obj ) {
			     var object = obj;
			     object.position.set(0,0,0);
			     object.rotation.y = 10;
			     scene.add( obj );
			});

			// Alternatively, to parse a previously loaded JSON structure
		

			var animate = function () {
				requestAnimationFrame( animate );

				//cube.rotation.x += 0.1;
				//cube.rotation.y += 0.1;
				controls.update();
				renderer.render(scene, camera);
			};

			animate();
		</script>
	</body>
</html>